# Llama Stack Environment Variables ConfigMap
# Contains non-sensitive configuration values from the template.
# These are injected as environment variables into the Llama Stack container.
apiVersion: v1
kind: ConfigMap
metadata:
  name: ${{ values.name }}-llama-stack-env
  labels:
    app.kubernetes.io/instance: ${{ values.name }}
    app.kubernetes.io/managed-by: kustomize
    app.kubernetes.io/name: ${{ values.name }}-llama-stack-env
    app.kubernetes.io/component: llama-stack
data:
  # vLLM Server URL
  DEV_CLUSTER_QWEN_URL: "${{ values.vllmUrl }}"
  
  # OpenAI API Base URL
  OPENAI_BASE_URL: "${{ values.openaiBaseUrl }}"
  
  # Ollama Server URL (empty means use default from run.yaml)
  {%- if values.ollamaUrl %}
  OLLAMA_URL: "${{ values.ollamaUrl }}"
  {%- else %}
  OLLAMA_URL: "http://${{ values.name }}-ollama:11434"
  {%- endif %}
  
  # Safety Model for guardrails
  SAFETY_MODEL: "${{ values.safetyModel }}"
